<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>Spaceshits &mdash; A 2D Top-Down Space Shooter</title>
		<meta name="author" content="Odepax" />
		<meta name="description" content="Spaceshits" />
		<meta name="keywords" content="spaceshits, odepax" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="theme-color" content="#242424" />
		<link rel="stylesheet" type="text/css" href="./asset/style.css" />
		<link rel="shortcut icon" type="image/x-icon" href="./asset/favicon.ico" />
		<meta name="robots" content="index, follow" />
		<script type="module">
			import { ParameterCentral  } from "./game/central/parameter.js"
			import { NavigationCentral } from "./game/central/navigation.js"
			import { MainPage } from "./page/main.js"
			import { SettingsPage } from "./page/settings.js"
			import { QuotationPage } from "./page/quotation.js"
			import { LobbyPage } from "./page/lobby.js"
			import { ArenaPage } from "./page/arena.js"
			import { DefeatPage } from "./page/defeat.js"
			import { VictoryPage } from "./page/victory.js"

			const parameterCentral = new ParameterCentral()
			const navigationCentral = new NavigationCentral(navigationHost)

			navigationCentral.register(MainPage, () => new MainPage(navigationCentral))
			navigationCentral.register(SettingsPage, () => new SettingsPage(navigationCentral, parameterCentral))
			navigationCentral.register(QuotationPage, () => new QuotationPage(navigationCentral))
			navigationCentral.register(LobbyPage, () => new LobbyPage(navigationCentral))
			navigationCentral.register(ArenaPage, () => new ArenaPage(navigationCentral, parameterCentral))
			navigationCentral.register(DefeatPage, () => new DefeatPage(navigationCentral))
			navigationCentral.register(VictoryPage, () => new VictoryPage(navigationCentral))

			navigationCentral.enter(MainPage)
		</script>
	</head>
	<body>

		<main id="navigationHost" class="navigation-host"></main>

		<template id="main-page" class="pull-in pull-out stack-vertical">
			<header role="banner">
				<aside>
					<a href="https://github.com/Odepax/spaceshits">GitHub</a>
				</aside>
				<div class="stack-horizontal">
					<img src="./asset/logo.svg" style="width: 64px; height: 64px; margin-right: 10px;" alt="Spaceshits' logo" />
					<h1>
						<span>Spaceshits</span>
						<small>Harlequin</small>
					</h1>
				</div>
			</header>
			<section class="horizontal-center" style="width: 620px; margin-top: 20px;">
				<p>
					<strong>Spaceshits</strong> is a 2D top-down space shooter.
					Please keep in mind that it is still <strong>in development</strong>,
					far from being <small>&mdash; and will probably never be &mdash;</small> properly optimized,
					and doesn't have any sound effect yet <small>&mdash; and what should I say about balanced weaponry...</small>
				</p>
				<p style="margin: 20px 0;">
					As it uses native Js browser imports, you should expect it to go heavy on the network.
					Expect long load times and bandwidth feasts.
				</p>
				<p>
					That said, have a good death...
				</p>
			</section>
			<section class="page-content vertical-stretch stack-horizontal">
				<button data-on="click:startNewGame" class="action-card triangles red">
					<span class="icon plus"></span>
					<span class="label">Start<br /> New<br /> Game</span>
				</button>
				<button data-on="click:resumeLastGame" class="action-card rectangles teal">
					<span class="icon right"></span>
					<span class="label">Resume<br /> Last<br /> Game</span>
				</button>
				<button data-on="click:editSettings" class="action-card circles purple">
					<span class="icon gear"></span>
					<span class="label">Edit<br /> Settings</span>
				</button>
			</section>
		</template>

		<template id="settings-page" class="pull-in push-out stack-vertical">
			<h2 class="page-title">
				<span>Settings</span>
				<small>Hover Over the Fields and Press Keys to Edit Them</small>
			</h2>
			<section class="page-content vertical-stretch stack-horizontal">
				<button data-on="click:discardChanges" class="action-card rectangles blue">
					<span class="icon cross"></span>
					<span class="label">Discard<br /> Changes</span>
				</button>
				<div class="key-binding-grid">
					<button id="key-up" class="action-block circles teal" style="grid-row-start: 1; grid-column-start: 3;">
						<span class="icon up"></span>
						<span class="label">...</span>
					</button>
					<button id="key-down" class="action-block circles teal" style="grid-row-start: 3; grid-column-start: 3;">
						<span class="icon down"></span>
						<span class="label">...</span>
					</button>
					<button id="key-left" class="action-block circles teal" style="grid-row-start: 2; grid-column-start: 2;">
						<span class="icon left"></span>
						<span class="label">...</span>
					</button>
					<button id="key-right" class="action-block circles teal" style="grid-row-start: 2; grid-column-start: 4;">
						<span class="icon right"></span>
						<span class="label">...</span>
					</button>
					<button id="key-shoot" class="action-block triangles yellow" style="grid-row-start: 1; grid-column-start: 5;">
						<span class="icon cross"></span>
						<span class="label">...</span>
					</button>
					<button id="key-aux" class="action-block rectangles blue" style="grid-row-start: 3; grid-column-start: 5;">
						<span class="icon gear"></span>
						<span class="label">...</span>
					</button>
					<button id="key-pause" class="action-block rectangles purple" style="grid-row-start: 1; grid-column-start: 1;">
						<span class="icon pause"></span>
						<span class="label">...</span>
					</button>
				</div>
				<button data-on="click:saveChanges" class="action-card circles pink">
					<span class="icon right"></span>
					<span class="label">Save<br /> Changes</span>
				</button>
			</section>
		</template>

		<template id="quotation-page" class="pull-in pull-out stack-vertical">
			<section class="page-content vertical-stretch stack-horizontal">
				<blockquote class="dialogue">
					<h2 class="source">An Echo from Space</h2>
					<p class="message" id="quote">...</p>
				</blockquote>
			</section>
		</template>

		<template id="lobby-page" class="pull-in pull-out stack-vertical">
			<h2 class="page-title">
				<span>New Game</span>
				<small>WIP</small>
			</h2>
			<section class="page-content vertical-stretch stack-horizontal">
				<button data-on="click:fleeArena" class="action-card rectangles teal">
					<span class="icon cross"></span>
					<span class="label">Flee<br /> Arena</span>
				</button>
				<canvas id="gameCanvas" class="game-canvas" style="margin-right: 10px;" width="380" height="380" tabindex="1"></canvas>
				<button data-on="click:fightArena" class="action-card triangles red">
					<span class="icon right"></span>
					<span class="label">Fight<br /> Arena<br /> #1</span>
				</button>
			</section>
		</template>

		<template id="arena-page" class="pull-in push-out stack-vertical">
			<section class="page-content vertical-stretch stack-horizontal">
				<div class="stack-horizontal">
					<progress id="energyBar" value="1" class="gauge orange vertical-bottom"></progress>
					<canvas id="gameCanvas" class="game-canvas" width="700" height="700" tabindex="1"></canvas>
					<progress id="hpBar" value="1" class="gauge teal vertical-bottom"></progress>
				</div>
			</section>
		</template>

		<template id="defeat-page" class="push-in push-out stack-vertical">
			<h2 class="page-title">
				<span>Defeat</span>
				<small>Floor #1, Arena #1</small>
			</h2>
			<section class="page-content vertical-stretch stack-horizontal">
				<button data-on="click:backToMain" class="action-card rectangles pink">
					<span class="icon left"></span>
					<span class="label">Sit<br /> And<br /> Cry</span>
				</button>
			</section>
		</template>

		<template id="victory-page" class="push-in push-out stack-vertical">
			<h2 class="page-title">
				<span>Victory</span>
				<small>Floor #1, Arena #1</small>
			</h2>
			<section class="page-content vertical-stretch stack-horizontal">
				<button data-on="click:continue" class="action-card triangles yellow">
					<span class="icon right"></span>
					<span class="label">Continue</span>
				</button>
			</section>
		</template>

	</body>
</html>
